{% extends "base.html" %}

{% block title %}Post Editor - milesbenton.com{% endblock %}

{% block head %}
<script src="/static/post_editor.js"></script>
{% endblock %}

{% block body %}

<div id="livestream-header">
  <a class="logo" href="/">Post Editor</a>
  <input type="submit" form="editor" value="SUBMIT" class="authorize-form-button" style="float:
  right;margin-right:12px" />
</div>
<div style="display: grid;grid-template-columns:50fr 50fr;grid-gap:12px">
  <div style="grid-column:1;">
    <form id="editor" method="POST" target="/blog/new">
      <textarea name="data" id="markdown-editor" class="authorize-form-input"
        style="grid-column:2;width:100%;height:100vh"></textarea>
    </form>
  </div>
  <div id="markdown-preview">
  </div>
</div>

<script>
  let entry = document.getElementById("markdown-editor");
  let preview = document.getElementById("markdown-preview")

  entry.addEventListener("keyup", (event) => {
    preview.innerHTML = post_editor.renderArticle(entry.value);
  })
</script>


{% endblock %}
